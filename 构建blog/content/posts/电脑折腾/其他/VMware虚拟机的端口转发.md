---
title: VMware虚拟机的端口转发
date: 2025-01-08T02:29:17.000Z
categories:
  - 其他
tags:
  - 端口转发
  - 虚拟机
featuredImage: null
draft: false
---
在VMware虚拟机的NAT网络模式下，要从宿主机访问虚拟机内的端口，需要进行端口转发设置。以下是具体步骤：

## 1.   配置VMware的NAT端口转发

  - 打开VMware软件，依次点击“编辑”–>“虚拟网络编辑器”。

  - 选中VMnet8（NAT模式），然后点击“NAT设置”。

  - 在弹出的“NAT设置”窗口中，点击“添加”按钮。（如果添加按钮是灰色，则关闭VMWare并以管理员模式重新打开）

  - 填写相关端口转发信息：

    - 主机端口：这是宿主机上用于访问虚拟机的端口，例如8080。

    - 虚拟机IP地址：填写虚拟机的IP地址，例如192.168.195.141。（虚拟机的地址可在虚拟机系统里查询，win使用`ipconfig` ,linux使用`ifconfig` 或者 `ip addr` ）

    - 虚拟机端口：这是虚拟机上运行服务的端口，例如80。

    - 点击“确定”保存设置。
    
  - 直接执行第3部分-测试连接，如果无法连接再执行第2部分-配置宿主机的防火墙

## 2. 配置宿主机的防火墙

  - 打开Windows安全中心，依次点击“防火墙和网络保护”–>“高级设置”。

  - 选中“入站规则”，然后点击“新建规则”。

  - 选择“端口”，点击“下一步”。

  - 选择“特定本地端口”，并填写之前在VMware中设置的主机端口（例如8080），然后点击“下一步”。

  - 选择“允许连接”，然后依次点击“下一步”–>“下一步”。

  - 填写规则名称（例如“VMware NAT端口转发”），然后点击“完成”。


## 3. 测试连接

  - 在宿主机的浏览器或其他客户端中，输入`localhost:8080`（假设主机端口设置为8080），如果配置正确，应该能够访问到虚拟机上运行的服务。

通过以上步骤，就可以实现在VMware虚拟机的NAT网络模式下，从宿主机访问虚拟机内的端口了。
